# Default values for labs-helmchart-base.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
# Note the commented properties have a default value by environment if specify a value here, it set up this value for all environments
environment: "dev"

replicaCount: 1

metadata:
  namePrefix: "labs-soft"
  name: "gke-deploy"
  defaultNamespace: "labs-dev"

image:
  repository: luigisamurai/gkedeploy
  tag: "sha-2e74dc3"
  pullPolicy: Always

resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "500m"
    memory: "256Mi"

splunk:
  repository: splunk/universalforwarder
  tag: 9.3.3
  pullPolicy: IfNotPresent
  resources:
    requests:
      cpu: "400m"
      memory: "256Mi"
    limits:
      cpu: 1
      memory: "512Mi"

service:
  type: ClusterIP
  port: 80
  targetPort: 9081

livenessProbe:
  path: /actuator/health/liveness
  port: 9081
  initialDelaySeconds: 60
  periodSeconds: 20
  timeoutSeconds: 2
  failureThreshold: 3
  successThreshold: 1

readinessProbe:
  path: /actuator/health/readiness
  port: 9081
  initialDelaySeconds: 30
  periodSeconds: 20
  timeoutSeconds: 2
  failureThreshold: 3
  successThreshold: 1

envs:
  kafkaBootstrapServers: "broker2:9092"
  redisHost: "redis"
  splunkStartArgs: "--accept-license --answer-yes"
  splunkGroup: "root"
  splunkPort: "8089"
  splunkServer: "lpec5009spkdm01.cardinalhealth.net"
  splunkUser: "root"
  splunkCmd: "add monitor /var/log -index ecomm_nxtgen_non-prod"

nodeSelector: {}

tolerations: []

affinity: {}

securityContext: { }

podSecurityContext: { }

gcp:
  serviceAccount: "gke-sa"
  secretProvider: "gcp"
  projectNumber: "230862495170"
  secretSyncEnabled: false
  secrets:
    envsVars:
      - name: "labs-soft-npd-gke-deploy-dev-redis-password" 
        fileName: "labs-soft-npd-gke-deploy-dev-redis-password.env"
        key: "REDIS_PASSWORD"
        envVar: "REDIS_PASSWORD"
      - name: "labs-soft-npd-gke-deploy-dev-kafka-password" 
        fileName: "labs-soft-npd-gke-deploy-dev-kafka-password.env"
        key: "KAFKA_PASSWORD"
        envVar: "KAFKA_PASSWORD"
    splunk:
      - name: "splunk-dev"
        fileName: "splunk.env"
        key: ""
        envVar: ""